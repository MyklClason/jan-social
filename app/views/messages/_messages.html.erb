<table>
  <thead>
    <tr>
      <% if local_assigns[:display_creator] %>
      <th>
        <div class="btn btn-default disabled" >
          <%= link_to '#', :class => "" do %>
          Creator
          <% end %>
        </div>
      </th>
      <% end %>
      <th>
        <%= link_to '#', :class => "btn btn-default disabled" do %>
        Content
        <% end %>
      </th>
      <% if local_assigns[:display_voting] %>
      <th colspan="3">
        <%= link_to '#', :class => "btn btn-default disabled" do %>
        Voting
        <% end %>
      </th>
      <% end %>
      <% if local_assigns[:display_actions] %>
      <th colspan="2">
        <%= link_to '#', :class => "btn btn-default disabled" do %>
        Actions
        <% end %>
      </th>
      <% end %>
    </tr>
  </thead>

  <tbody>
    <% messages.each do |message| %>
    <tr>
      <% if local_assigns[:display_creator] %>
      <td>
        <%= link_to message.creator, :class => "btn btn-default" do %>
        <%= message.creator.full_name %>
        <% end %>
      </td>
      <% end %>
      <td>
        <%= link_to message, :class => "btn btn-default" do %>
        <%= message.content %>
        <% end %>
      </td>
      <% if local_assigns[:display_voting] %>
      <td>
        <% if message.creator == current_user %>
        <%= link_to 'N/A', '#', :class => "btn btn-default disabled }"%>
        <% else %>
        <%= link_to like_message_path(message), method: :put,
:class => "btn #{ likes?(message) ? 'btn-info' : 'btn-default' }" do %>
        <span class="glyphicon glyphicon-thumbs-up" aria-hidden="true"></span>
        <%= likes_total(message) %>
        <% end %>
        <% end %>
      </td>
      <td>
        <% if message.creator == current_user %>
        <%= link_to 'N/A', '#', :class => "btn btn-default disabled }"%>
        <% else %>
        <%= link_to dislike_message_path(message), method: :put,
:class => "btn #{ dislikes?(message) ? 'btn-info' : 'btn-default' }" do %>
        <span class="glyphicon glyphicon-thumbs-down " aria-hidden="true"></span>
        <%= dislikes_total(message) %>
        <% end %>
        <% end %>
      </td>
      <td>
        <%= link_to '#',
:class => "btn btn-default disabled" do %>
        <span class="glyphicon glyphicon-hand-right " aria-hidden="true"></span>
        <%= likes_dislikes_total(message) %>
        <% end %>
      </td>
      <% end %>
      <% if local_assigns[:display_actions] %>
      <td>
        <%= link_to edit_message_path(message), :class => "btn btn-warning" do %>
        <span class="glyphicon glyphicon-edit" aria-hidden="true"></span>
        <% end %>
      </td>
      <td>
        <%= link_to message, :class => "btn btn-danger",
method: :delete, data: { confirm: 'Are you sure?' } do %>
        <span class="glyphicon glyphicon-trash" aria-hidden="true"></span>
        <% end %>
      </td>
      <% end %>
    </tr>
    <% end %>
  </tbody>
</table>